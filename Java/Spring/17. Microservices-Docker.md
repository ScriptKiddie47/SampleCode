# Microservices with Docker

Note : We will utilize the microservices created in the last lecture.

## Lets create a ZIP server in Docker
1. Docker command
```bash
docker run -p 9411:9411 openzipkin/zipkin:2.23
```
2. Navigate to browser http://localhost:9411/zipkin/

## Obervabality and OpenTelemetry
1. Monitoring is reactive. Observability is proactive
2. Observability is onestep above Monitoring.
3. In Monitoring we get gather metrcsi,logs traces
4. In Observability we gather intelliegenece : Anomaly detection
5. OpenTelemetry - Collection of tools,API etc! 

## Connect Service to Zipkin 

1. Spring Boot 3 - We use micrometer + opentelemetry + zipkin
2. Dependency - `/currency-exchange/build.gradle`

```groovy
//Zipkin
implementation 'io.micrometer:micrometer-observation:1.12.2'
implementation 'io.micrometer:micrometer-tracing-bridge-otel:1.2.2'
implementation 'io.opentelemetry:opentelemetry-exporter-zipkin:1.22.0'
```

3. Update Properties `/currency-exchange/src/main/resources/application.yaml`
```yaml
management:
  tracing:
    sampling:
      probability: 1.0
logging:
  pattern:
    level: '%5p [${spring.application.name:},%X{traceId:-},%X{spanId:-}]' 
```
4. 